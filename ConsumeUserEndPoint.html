<html>
  <head>
    <!-- Latest compiled and minified CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <script>

        // synchronous programming - is one after the other
        // method1();
        // method2();
        // method3();

        // asynchronous programming - not one after the other
        // method1();
        // method2();
        // method3();

        function loadUsers(){
            let content = '';
            // here we use fetch api to consume an endpoint
            // fetch makes an asynchronous call to the backend endpoint
            // then function makes that the code in it is executed after the asynchronous call
            fetch('https://jsonplaceholder.typicode.com/users')
                .then((response)=>{
                    console.log(response);
                    console.log("------------------")
                    return response.json();
                })
                .then((data)=>{
                    console.log(data);;
                    // if we can see the data in the console fetched from the backend, 
                        //next we can display this data on the the page
                    //content = "<table></table>";
                    content = `<table class="table table-striped">
                                    <thead>
                                        <tr class="bg-dark text-light">
                                        <th>ID</th>
                                        <th>NAME</th>
                                        <th>USER NAME</th>
                                        <th>PHONE</th>
                                        <th>CITY</th>
                                        </tr>
                                    </thead>
                                    <tbody>`;
                    for(let eachData of data){
                        content += `<tr>
                                        <td>${eachData.id}</td>
                                        <td>${eachData.name}</td>
                                        <td>${eachData.username}</td>
                                        <td>${eachData.phone}</td>
                                        <td>${eachData.address.city}</td>
                                    </tr>`;
                    } 
                    content += `</tbody></table>`;                   
                    document.getElementById("display").innerHTML = content; // here we are using JS to manipulate the DOM
                                                                                // we are saying the innerHtml of the element 
                                                                                // with id diplay should be content
                });
        }
        loadUsers();
    </script>
    <h1 class="m-5">LIST OF USERS</h1>
    <div class="container" id="display">
        <!-- using JS we will place the content of content variable here -->
    </div>
  </body>
</html>
